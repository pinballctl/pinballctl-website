<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pinball CTL | Full Documentation</title>
  <meta name="description" content="Full Pinball CTL User Guide for online viewing.">
  <link rel="stylesheet" href="./style.css">
  <style>
    .docs-shell { width: min(calc(100% - 2rem), 1640px); }
    .docs-layout { display: grid; grid-template-columns: 290px 1fr; gap: 1rem; align-items: start; }
    .docs-sidebar { position: sticky; top: 80px; max-height: calc(100vh - 100px); overflow: auto; border: 1px solid var(--line); border-radius: var(--radius); background: rgba(255,255,255,0.03); padding: 0.6rem; }
    .docs-sidebar .nav-link { display: block; margin-bottom: 0.35rem; }
    .doc-section { width: 100%; padding: 1rem 0; }
    .doc-panel { border: 1px solid var(--line); border-radius: var(--radius); background: linear-gradient(165deg, rgba(17,34,55,0.92), rgba(11,24,39,0.88)); padding: 1.1rem; }
    .doc-panel h1:first-child { margin-top: 0; }
    .doc-panel h1, .doc-panel h2, .doc-panel h3, .doc-panel h4 { margin: 1rem 0 0.65rem; }
    .doc-panel p { color: var(--text); line-height: 1.55; margin: 0.5rem 0; }
    .doc-panel ul, .doc-panel ol { margin: 0.45rem 0 0.8rem 1.2rem; line-height: 1.5; }
    .doc-panel code { background: rgba(255,255,255,0.08); border: 1px solid var(--line); padding: 0.07rem 0.3rem; border-radius: 0.3rem; font-family: "IBM Plex Mono", monospace; font-size: 0.88em; }
    .doc-panel pre { background: rgba(2,9,15,0.92); border: 1px solid var(--line); border-radius: 0.7rem; padding: 0.75rem; overflow: auto; }
    .doc-panel pre code { border: 0; background: transparent; padding: 0; }
    .doc-panel img { width: min(100%, 980px); height: auto; border-radius: 0.7rem; border: 1px solid var(--line); cursor: zoom-in; display: block; margin: 0.7rem 0; }
    .doc-panel table { width: 100%; border-collapse: collapse; margin: 0.6rem 0 0.8rem; }
    .doc-panel th, .doc-panel td { border: 1px solid var(--line); padding: 0.45rem 0.55rem; vertical-align: top; }
    .doc-panel th { background: rgba(255,255,255,0.07); text-align: left; }
    .doc-panel a { color: #8deec8; text-decoration: underline; text-underline-offset: 2px; }
    @media (max-width: 1080px) {
      .docs-layout { grid-template-columns: 1fr; }
      .docs-sidebar { position: relative; top: 0; max-height: none; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <a class="brand" href="./index.html#top" aria-label="Pinball CTL home">
      <span class="brand-dot" aria-hidden="true"></span>
      <span>Pinball CTL</span>
    </a>
    <button class="menu-toggle" type="button" aria-expanded="false" aria-label="Toggle navigation">
      <span></span><span></span><span></span>
    </button>
    <nav class="site-nav" aria-label="Main navigation">
      <a href="./index.html" class="nav-link">Home</a>
    </nav>
  </header>

  <main id="top" class="docs-shell">
    <section class="section">
      <p class="kicker hero-kicker">Full User Guide</p>
      <h1>Pinball CTL Documentation</h1>
      <p class="lead">This is the full in-app User Guide content, published for online viewing with section navigation and enlargeable screenshots.</p>
      <div class="docs-layout">
        <aside class="docs-sidebar">
          <a href="#doc-1-getting-started" class="nav-link">Getting Started</a><a href="#doc-2-interface" class="nav-link">Interface Tour</a><a href="#doc-3-featured" class="nav-link">Features</a><a href="#doc-5-dashboard" class="nav-link">Dashboard</a><a href="#doc-6-manual" class="nav-link">Manual</a><a href="#doc-7-rules" class="nav-link">Rules</a><a href="#doc-7-1-scoring" class="nav-link">Scoring</a><a href="#doc-8-lighting" class="nav-link">Lighting</a><a href="#doc-9-layout" class="nav-link">Playfield</a><a href="#doc-10-hardware" class="nav-link">Hardware</a><a href="#doc-11-esplink" class="nav-link">ESPLink</a><a href="#doc-12-firmware" class="nav-link">Firmware</a><a href="#doc-13-service-log" class="nav-link">Service Log</a><a href="#doc-14-logs" class="nav-link">Logs</a><a href="#doc-15-wifi" class="nav-link">Wi Fi</a><a href="#doc-16-settings" class="nav-link">Settings</a><a href="#doc-17-audio" class="nav-link">Audio</a><a href="#doc-18-media" class="nav-link">Media</a><a href="#doc-99-supported-components" class="nav-link">Supported Components</a>
        </aside>
        <div class="docs-content">
          
      <section id="doc-1-getting-started" class="section doc-section">
        <div class="doc-panel">
          <h1>Getting Started</h1><p>This guide helps you get Pinball CTL running from a clean Raspberry Pi setup.</p><p>It is written for real-world first installs, not just developer machines.</p><h2>Before You Start</h2><p>Pinball CTL is under active development. It runs well on the hardware used in this project, but it has not yet been broadly tested across all Raspberry Pi and peripheral combinations.</p><p>In plain terms: if your setup is different, your mileage may vary.</p><h2>Requirements</h2><p>The table below shows what is required and what has been tested in this project.</p><div class="manual-table-wrap">  <table class="manual-table manual-requirements-table">    <thead>      <tr>        <th>Item</th>        <th>Required</th>        <th>Tested</th>        <th>Notes</th>      </tr>    </thead>    <tbody>      <tr><td>Raspberry Pi 5</td><td>✅</td><td>✅</td><td>Main target platform</td></tr>      <tr><td>ESP32-S3 controller board</td><td>✅</td><td>✅</td><td>Real-time I/O and safety layer</td></tr>      <tr><td>microSD card (32GB recommended)</td><td>✅</td><td>✅</td><td>Raspberry Pi OS and local storage</td></tr>      <tr><td>Stable Pi power supply</td><td>✅</td><td>✅</td><td>Use a suitable PSU for Pi 5</td></tr>      <tr><td>USB data cable (Pi &lt;-&gt; ESP32-S3)</td><td>✅</td><td>✅</td><td>Must be a data cable, not charge-only</td></tr>      <tr><td>Network connection (Ethernet or Wi-Fi)</td><td>✅</td><td>✅</td><td>Needed for package install and web UI access</td></tr>      <tr><td>Raspberry Pi OS 64-bit</td><td>✅</td><td>✅</td><td>Recommended by Raspberry Pi for Pi 5</td></tr>      <tr><td>Python 3.11+</td><td>✅</td><td>✅</td><td>Required by Pinball CTL</td></tr>      <tr><td><code>python3-venv</code></td><td>✅</td><td>✅</td><td>For isolated environment install</td></tr>      <tr><td><code>pip</code></td><td>✅</td><td>✅</td><td>Package installation</td></tr>      <tr><td><code>git</code></td><td>⚠️ If installing from Git URL</td><td>✅</td><td>Needed for tag-based Git install</td></tr>      <tr><td>macOS dev machine</td><td>❌</td><td>✅</td><td>Development was done on macOS; runtime target is Pi</td></tr>      <tr><td>Web browser (Chrome, Edge, Safari, Firefox)</td><td>✅</td><td>✅</td><td>For Pinball CTL web interface</td></tr>    </tbody>  </table></div><p>For hardware-specific status, see:</p><ul><li><a href="#doc-99-supported-components">Supported Components</a></li></ul><h2>Prepare Raspberry Pi OS</h2><p>Start with a clean Raspberry Pi OS image and flash it to your SD card.</p><p>Official Raspberry Pi references:</p><ul><li><a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a></li><li><a href="https://www.raspberrypi.com/documentation/installation/installing-images/">Install an operating system</a></li><li><a href="https://www.raspberrypi.com/software/operating-systems/">Raspberry Pi OS downloads</a></li></ul><p>Recommended for Pi 5:</p><ul><li>Use the current recommended <strong>Raspberry Pi OS (64-bit)</strong> entry in Raspberry Pi Imager.</li><li>As of <strong>4 December 2025</strong>, Raspberry Pi lists Raspberry Pi OS 64-bit based on Debian 13 (Trixie) for Pi 5.</li></ul><p>Tip:</p><ul><li>Raspberry Pi Imager is the quickest way to get started for most users.</li><li>In Raspberry Pi Imager, open OS customisation before writing the card.</li><li>Preconfigure Wi-Fi, username/password, locale, and SSH so these settings are baked into the image for easier remote setup.</li></ul><h2>Boot and Connect to the Pi</h2><p>You can continue setup in either of these ways:</p><ol><li>SSH from another machine (recommended for headless setups).</li><li>Directly on the Pi using keyboard + monitor.</li></ol><h3>Option A: SSH</h3><p>If SSH was enabled in Imager:</p><pre><code>ssh &lt;your-user&gt;@raspberrypi.local</code></pre><p>If mDNS is not available on your network, use the Pi IP address instead:</p><pre><code>ssh &lt;your-user&gt;@&lt;pi-ip-address&gt;</code></pre><h3>Option B: Keyboard + Monitor</h3><p>Log in locally and open Terminal.</p><h2>Install Pinball CTL in a Virtual Environment</h2><p>Run the following on your Pi.</p><h3>Install base tools</h3><pre><code>sudo apt update
sudo apt install -y python3-venv python3-pip git</code></pre><h3>Create and activate a venv</h3><pre><code>mkdir -p ~/pinballctl
cd ~/pinballctl
python3 -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip</code></pre><h3>Install from a Git tag (recommended)</h3><p>If you know the release tag:</p><pre><code>python -m pip install &quot;git+https://github.com/VineCode/pinballctl.git@vX.Y.Z&quot;</code></pre><p>If you want to resolve and install the latest tag automatically:</p><pre><code>REPO_URL=&quot;https://github.com/VineCode/pinballctl.git&quot;
LATEST_TAG=&quot;$(git ls-remote --refs --sort=&#x27;version:refname&#x27; --tags &quot;$REPO_URL&quot; | tail -n1 | sed &#x27;s|.*refs/tags/||&#x27;)&quot;
python -m pip install &quot;git+$REPO_URL@$LATEST_TAG&quot;</code></pre><p>Then verify:</p><pre><code>pinballctl --version</code></pre><p>Note:</p><ul><li>Packaging in this project is wheel-based (see release/build scripts and <code>pyproject.toml</code>).</li><li>Installing from a tag gives you a reproducible version aligned to a release point.</li></ul><h2>Run Pinball CTL</h2><p>For most users, this is all you need:</p><pre><code>pinballctl start</code></pre><p>This starts Pinball CTL with the default runtime setup.</p><p>You can check status at any time:</p><pre><code>pinballctl status</code></pre><p>Advanced:</p><ul><li>If you need manual control of individual services and options, use:</li></ul><pre><code>pinballctl --help</code></pre><h2>Open the Web Interface</h2><p>From a browser on your network, open:</p><pre><code>http://&lt;pi-ip-address&gt;:8888</code></pre><p>If local hostname resolution works on your network, this may also work:</p><pre><code>http://raspberrypi.local:8888</code></pre><p>You should see the Pinball CTL login screen in your browser:</p><img src="./assets/img/login.png" alt="Pinball CTL login screen" style="width: 100%; max-width: 800px; height: auto;"><p>Default login credentials:</p><ul><li>Username: <code>admin</code></li><li>Password: <code>password</code></li></ul><p>For safety, change the default password as soon as you log in.</p><h2>Optional: Run as Services</h2><p>For auto-start on boot and easier long-running use:</p><pre><code>pinballctl service install
pinballctl service start all
pinballctl status</code></pre><h2>Command Overview</h2><p>Use <code>pinballctl --help</code> at any time for the full command tree.</p><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Command</th>        <th>What it does</th>      </tr>    </thead>    <tbody>      <tr><td><code>pinballctl start</code></td><td>Starts Pinball CTL with the default runtime setup</td></tr>      <tr><td><code>pinballctl status</code></td><td>Shows system, service, network, and port status</td></tr>      <tr><td><code>pinballctl --version</code></td><td>Shows installed Pinball CTL version</td></tr>      <tr><td><code>pinballctl --help</code></td><td>Shows top-level help</td></tr>      <tr><td><code>pinballctl web --help</code></td><td>Shows web command options</td></tr>      <tr><td><code>pinballctl bridge --help</code></td><td>Shows bridge command options</td></tr>      <tr><td><code>pinballctl service install</code></td><td>Installs and enables systemd services</td></tr>      <tr><td><code>pinballctl service start all</code></td><td>Starts web + bridge services</td></tr>      <tr><td><code>pinballctl service restart all</code></td><td>Restarts all services</td></tr>      <tr><td><code>pinballctl service --help</code></td><td>Shows service command options</td></tr>    </tbody>  </table></div><h2>Troubleshooting Quick Checks</h2><p>If something is not working, check these first:</p><ol><li>Is your venv active (<code>source .venv/bin/activate</code>)?</li><li>Does <code>pinballctl --version</code> work?</li><li>Is the web app running on port 8888?</li><li>Is your Pi reachable on the network?</li></ol>
        </div>
      </section>

      <section id="doc-2-interface" class="section doc-section">
        <div class="doc-panel">
          <h1>Interface Tour</h1><p>This page gives you a quick tour of the Pinball CTL interface so you can find what you need fast.</p><h2>Login</h2><p>Open Pinball CTL in your browser and sign in.</p><img src="./assets/img/login.png" alt="Pinball CTL login screen" style="width: 100%; max-width: 800px; height: auto;"><p>Default login credentials:</p><ul><li>Username: <code>admin</code></li><li>Password: <code>password</code></li></ul><p>Change the default password after your first login via <code>System -&gt; Settings</code>.</p><h2>Dashboard Overview</h2><p>After login, you land on the Dashboard. This is your at-a-glance machine status page.</p><img src="./assets/img/dashboard.png" alt="Pinball CTL dashboard" style="width: 100%; max-width: 800px; height: auto;"><p>The dashboard cards show key status areas such as Wi-Fi, bridge state, ESP32 connectivity, dependencies, uptime, and gameplay or machine metrics.</p><p>Use this page first when checking whether your system is healthy.</p><h2>Control Centre</h2><p>Use the grid icon in the top bar to open the Control Centre. This is the main navigation hub for all areas.</p><img src="./assets/img/control-center.png" alt="Pinball CTL control centre" style="width: 100%; max-width: 800px; height: auto;"><p>The Control Centre groups pages by purpose:</p><ul><li>Overview: high-level operational pages.</li><li>Authoring: Rules, Lighting, and playfield-related work.</li><li>Platform: hardware, firmware, and ESPLink.</li><li>Operations: logs and service diagnostics.</li><li>System: settings such as Wi-Fi and install-wide options.</li></ul><h2>Search</h2><p>Use the search box (top right of Control Centre) to filter the available pages.</p><img src="./assets/img/control-center-search.png" alt="Control Centre search box" style="width: 100%; max-width: 800px; height: auto;"><p>Search is best when you type the page name directly, for example: <code>lighting</code>, <code>rules</code>, <code>hardware</code>, or <code>manual</code>, then click the page you want.</p><h2>Recently Visited</h2><p>Pinball CTL keeps quick shortcuts so you can get back to pages you use most.</p><p>The Recently Visited row gives one-click access to pages you opened recently.</p><img src="./assets/img/control-center-recent.png" alt="Recently visited pages" style="width: 100%; max-width: 800px; height: auto;"><h2>Bookmarks</h2><p>When you hover over a link, a yellow bookmark icon appears.</p><p>Clicking the icon adds that link to the top bookmarks menu for faster access to frequently used areas.</p><p>You can also drag and drop items in the top bookmarks menu to arrange them in your preferred order.</p>
        </div>
      </section>

      <section id="doc-3-featured" class="section doc-section">
        <div class="doc-panel">
          <h1>Features</h1><p>This page gives you a full overview of the main Pinball CTL features.</p><p>Use the table for a quick summary, then use the detailed sections to understand what each area does.</p><img src="./assets/img/control-center.png" alt="Control Centre features overview" style="width: 100%; max-width: 800px; height: auto;"><h2>At-a-Glance Feature Table</h2><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Name</th>        <th>Purpose</th>      </tr>    </thead>    <tbody>      <tr><td>Dashboard</td><td>Live overview of machine state, connectivity, and runtime health.</td></tr>      <tr><td>Manual</td><td>Built-in documentation with search and bookmarks for quick reference.</td></tr>      <tr><td>Rules</td><td>Create and manage gameplay rules, triggers, and actions.</td></tr>      <tr><td>Scoring</td><td>Author points, progressive scoring rules, and combo scoring logic.</td></tr>      <tr><td>Audio</td><td>Manage sound assets, cue playback behavior, output routing, and usage mapping.</td></tr>      <tr><td>Media</td><td>Build visual scenes with assets and overlays, then launch kiosk displays for runtime.</td></tr>      <tr><td>Lighting</td><td>Author scene-based lighting with rich live preview before rollout.</td></tr>      <tr><td>Playfield</td><td>Visual playfield editor with live simulation preview for faster iteration.</td></tr>      <tr><td>Hardware</td><td>Discover hardware, map inputs/outputs, and manage hardware configuration.</td></tr>      <tr><td>ESPLink</td><td>Manage ESP32 link status, versions, and manifest sync workflow.</td></tr>      <tr><td>Firmware</td><td>Firmware package and deployment support for ESP32 targets.</td></tr>      <tr><td>Service Log</td><td>Service and maintenance logging for users and engineers.</td></tr>      <tr><td>Logs</td><td>View and inspect application and bridge logs from the web UI.</td></tr>      <tr><td>Wi-Fi</td><td>Network connection status and Wi-Fi setup controls.</td></tr>      <tr><td>Settings</td><td>System-wide configuration, identity, and environment options.</td></tr>    </tbody>  </table></div><h2>Dashboard</h2><p>The Dashboard is the first operational view after login. It is designed for quick checks before you start rule or lighting work.</p><p>Key features:</p><ul><li>Live status cards for network, bridge, ESP32 link, and uptime.</li><li>Dependency visibility for required tooling.</li><li>High-level machine and gameplay metrics in one place.</li><li>Fast way to spot faults before troubleshooting deeper features.</li></ul><h2>Manual</h2><p>The Manual keeps user and technical documentation inside Pinball CTL, so setup and diagnostics guides are always close to the system.</p><p>Key features:</p><ul><li>Left-hand document tree with folders and pages.</li><li>Built-in search for finding topics quickly.</li><li>Bookmark support for frequently used pages.</li><li>Light and dark mode aware styling.</li></ul><h2>Rules</h2><p>Rules is the gameplay authoring area. It defines how machine events trigger actions and behaviour.</p><p>Key features:</p><ul><li>Rule creation and editing workflows.</li><li>Trigger and condition-based action execution.</li><li>Integration with lighting actions (including scene selection and control options).</li><li>Structured configuration storage for repeatable deployments.</li></ul><h2>Scoring</h2><p>Scoring is the point-system authoring area. It lets you build base points, progressive hit rules, and combo awards without writing code.</p><p>Key features:</p><ul><li>Base points table for fixed score awards from hardware and fired events.</li><li>Progressive scoring rules with minimum hit thresholds and optional time windows.</li><li>Cooloff controls to reduce hit streak value over time.</li><li>Combo authoring with ordered or any-order step matching.</li><li>Optional combo multipliers and emitted events for integration with Rules and Lighting.</li></ul><h2>Audio</h2><p>Audio manages sound assets and runtime playback rules from one place on the Pi side.</p><p>Key features:</p><ul><li>Asset library with multi-upload and inline preview.</li><li>Cue editor for output, bus, volume, loop, repeats, and cooldown.</li><li>Output/device visibility and runtime playback monitoring.</li><li>Usage mapping for quick cue/asset lookup and diagnostics.</li></ul><h2>Media</h2><p>Media is the scene authoring and playback module for videos and overlays across your configured displays.</p><p>Key features:</p><ul><li>Stage editor with scene selector, options, overlays, and live preview.</li><li>Launch controls for fullscreen kiosk and small-window testing.</li><li>Library tab for asset upload, browsing, and preview.</li><li>Displays tab for detection and runtime environment checks.</li><li>Runtime tab for active scene visibility and stop controls.</li></ul><h2>Lighting</h2><p>Lighting is a full scene authoring workflow for table effects and player feedback.</p><p>Key features:</p><ul><li>Scene and timeline editing.</li><li>Pattern-based animation generation.</li><li>Custom keyframes and tag-based frame markers.</li><li>Cast targeting, layering options, and playback controls.</li><li>Build your lighting plan by scene, timeline, and target selection.</li><li>Apply pattern/show behaviour and test playback in preview before rollout.</li><li>Tune behaviour safely without requiring immediate live hardware control.</li></ul><h2>Playfield</h2><p>Playfield is the visual model of your playfield and hardware placement.</p><p>Key features:</p><ul><li>Placement and sizing of playfield elements.</li><li>Simulation preview for quick visual validation as you build.</li><li>Hardware binding support for visual validation.</li><li>Editing tools to maintain a clean machine map.</li><li>Preview the playfield changes before applying them to your live machine workflow.</li><li>Playfield event handling mirrors hardware flow, so triggers and responses behave consistently.</li><li>Test trigger logic with immediate on-screen feedback that reflects hardware events.</li><li>Useful reference context when authoring rules and lighting.</li></ul><h2>Hardware</h2><p>Hardware manages the machine&#x27;s physical I/O mapping and integration data used by runtime services.</p><p>Key features:</p><ul><li>Mapping of switches, coils, lights, and related channels.</li><li>Hardware profile and mapping management.</li><li>Data used by bridge/runtime deployment steps.</li><li>Foundation for safe, deterministic control at runtime.</li></ul><h2>ESPLink</h2><p>ESPLink manages the Pi-to-ESP workflow and device-side compatibility checks.</p><p>Key features:</p><ul><li>Connection and sync status visibility.</li><li>Clear checks that Pi and ESP are on matching versions and manifest data before deployment.</li><li>Workflow support for updating or synchronising device state.</li><li>Integration point between authoring on Pi and execution on ESP32.</li></ul><h2>Firmware</h2><p>Firmware supports firmware package handling and update flow for ESP targets.</p><p>Key features:</p><ul><li>Firmware metadata and package handling.</li><li>Updates from official Pinball CTL releases are available and listed here.</li><li>Assisted update/deploy workflow hooks.</li><li>Clear separation between host-side authoring and device runtime code.</li><li>Useful for controlled release and maintenance tasks.</li></ul><h2>Service Log</h2><p>Service Log focuses on service and maintenance history for managed services.</p><p>Key features:</p><ul><li>Service and maintenance logging for users and engineers.</li><li>Maintenance history for physical machine work such as cleaning and inspections.</li><li>Records of hardware replacement and service actions over time.</li><li>Helps teams track what was serviced, when it was done, and what changed.</li><li>Helps confirm long-running service stability.</li></ul><h2>Logs</h2><p>Logs provides direct access to application and bridge output for troubleshooting.</p><p>Key features:</p><ul><li>Read runtime logs from the web UI.</li><li>Inspect bridge and web logging without leaving the browser.</li><li>Useful for identifying serial, protocol, or configuration issues.</li><li>Supports day-to-day diagnostics during development and testing.</li></ul><h2>Wi-Fi</h2><p>Wi-Fi shows and manages network connection details relevant to remote use.</p><p>Key features:</p><ul><li>Current connection status and interface details.</li><li>Wi-Fi setup/update controls.</li><li>Helps confirm browser access and API reachability.</li><li>Core tool for headless Pi deployments.</li><li>Planned: Wi-Fi connected services will provide support for global leaderboards.</li></ul><h2>Settings</h2><p>Settings contains installation-wide configuration options.</p><p>Key features:</p><ul><li>Identity and general system settings.</li><li>Security-related settings such as login credentials.</li><li>Import/export style configuration workflows where supported.</li><li>Central place for persistent environment-level options.</li></ul>
        </div>
      </section>

      <section id="doc-5-dashboard" class="section doc-section">
        <div class="doc-panel">
          <h1>Dashboard</h1><p>The Dashboard is your live status overview for Pinball CTL.</p><img src="./assets/img/dashboard.png" alt="Dashboard feature overview" style="width: 100%; max-width: 800px; height: auto;"><p>The Dashboard is designed as a fast health check page before you edit rules, lighting, hardware, or firmware.</p><h2>What This Feature Does</h2><p>It continuously polls runtime APIs and presents a single at-a-glance state for:</p><ul><li>connectivity</li><li>bridge/runtime processes</li><li>ESP state</li><li>sync status</li><li>dependency/tooling readiness</li></ul><h2>Live Refresh Behaviour</h2><p>Dashboard refreshes automatically in the background.</p><p>Key behaviour:</p><ul><li>Regular polling (about every 10 seconds).</li><li>Polling pauses when the page is hidden, then resumes when visible.</li><li>If bridge is running but ESP is not yet connected, quick retry mode is used.</li><li>Currency symbol values are loaded from Settings and applied to revenue cards.</li></ul><h2>Card-by-Card Reference</h2><h3>Wi-Fi</h3><p>Shows:</p><ul><li>interface</li><li>connected status (badge)</li><li>SSID</li><li>IP address</li><li>signal</li></ul><p>Use this to confirm remote browser access health.</p><h3>Bridge</h3><p>Shows:</p><ul><li>running/stopped status (badge)</li><li>detection source</li><li>PID</li></ul><p>Use this to verify bridge lifecycle state.</p><h3>Uptime</h3><p>Shows:</p><ul><li>since timestamp</li><li>human duration</li><li>raw seconds</li></ul><p>Useful for checking unexpected restarts.</p><h3>ESP32</h3><p>Shows:</p><ul><li>firmware</li><li>chip</li><li>ESP time</li><li>connected status</li><li>time sync status</li></ul><p>When ESP is connected, additional sync rows are shown:</p><ul><li>Rules Sync (state + last sync time)</li><li>Hardware Sync (state + last sync time)</li><li>Lighting Sync (state + last sync time)</li></ul><p>Sync badges:</p><ul><li><code>In Sync</code></li><li><code>Out of Sync</code></li><li><code>—</code> when unavailable</li></ul><h3>Dependencies</h3><p>Shows build/flash tooling and whether each dependency is available.</p><p>Each row includes:</p><ul><li>tool name</li><li>version (shortened in UI if long)</li><li><code>OK</code>/<code>Missing</code> badge</li></ul><h3>Gameplay / Revenue Snapshot / Player Flow / Machine</h3><p>These cards currently display demo/trend style values and machine summary context.</p><p>Use them as operational context alongside technical health cards.</p><h2>Typical Workflow</h2><ol><li>Open Dashboard first.</li><li>Confirm Wi-Fi, Bridge, and ESP are healthy.</li><li>Check sync status rows when ESP is connected.</li><li>If not healthy, move to the relevant feature:</li></ol><ul><li>Logs for runtime output</li><li>Hardware for mapping/sync</li><li>ESPLink for bridge/device controls</li></ul><h2>Example Checks</h2><h3>Pre-deployment check</h3><p>Before syncing rules or lighting:</p><ul><li>Bridge = Running</li><li>ESP Connected = Yes</li><li>Time Sync = OK</li><li>Dependencies = all <code>OK</code></li></ul><h3>Post-maintenance check</h3><p>After service work:</p><ul><li>Wi-Fi badge = Yes</li><li>Bridge PID populated</li><li>Uptime progressing normally</li><li>no unexpected sync regressions</li></ul><h2>Related Features</h2><ul><li><a href="#doc-10-hardware">Hardware</a></li><li><a href="#doc-11-esplink">ESPLink</a></li><li><a href="#doc-14-logs">Logs</a></li></ul>
        </div>
      </section>

      <section id="doc-6-manual" class="section doc-section">
        <div class="doc-panel">
          <h1>Manual</h1><p>The Manual feature provides built-in documentation inside Pinball CTL.</p><img src="./assets/img/feature-manual.png" alt="Manual feature overview" style="width: 100%; max-width: 800px; height: auto;"><p>The Manual is the in-app knowledge base for user guides and technical references.</p><h2>What This Feature Does</h2><p>It lets you browse, search, bookmark, and read documentation without leaving Pinball CTL.</p><h2>Page Layout</h2><p>The page is split into two columns:</p><ul><li>Left sidebar: search, tree, results, bookmarks.</li><li>Right content area: toolbar, table of contents, article body.</li></ul><h2>Left Sidebar Controls</h2><h3>Search box</h3><ul><li>Filters docs by query.</li><li>Switches view from tree to search results when active.</li><li>Includes status text for results.</li></ul><h3>Tree navigation</h3><ul><li>Expand/collapse folder structure.</li><li>Open pages directly.</li><li>Remembers expanded folders.</li></ul><h3>Bookmarks block</h3><ul><li>Shows saved document shortcuts.</li><li>Supports removing bookmarks from the list.</li></ul><h2>Article Toolbar Controls</h2><h3>Table of Content button</h3><ul><li>Opens generated heading index for current page.</li><li>Links jump to section anchors.</li></ul><h3>Bookmark button</h3><ul><li>Adds/removes current page from bookmarks.</li><li>Bookmark state is persisted.</li></ul><h2>Reading Behaviour</h2><ul><li>Internal manual links open inside the manual viewer.</li><li>External links open in new tab and are marked as external.</li><li>Images support click-to-open modal for large view.</li><li>Modal closes on click or <code>Esc</code>.</li></ul><h2>Image Viewer</h2><p>In-article images can be inspected in a full-size modal.</p><p>Behaviour:</p><ul><li>Click image to open.</li><li>Cursor shows zoom-out style in modal.</li><li>Click anywhere in modal to close.</li></ul><h2>Typical Workflow</h2><ol><li>Search for the feature/topic.</li><li>Open page from results or tree.</li><li>Use table of contents for section jumps.</li><li>Bookmark frequent pages.</li></ol><h2>Practical Examples</h2><h3>Build operator quick-reference list</h3><p>Bookmark the pages you use most often:</p><ul><li>Getting Started</li><li>Rules</li><li>Lighting</li><li>Service Log</li></ul><h3>Maintenance handover</h3><p>Use bookmarks + ToC links to quickly move through required checklists during handover.</p><h2>Related Features</h2><ul><li><a href="#doc-2-interface">Interface Tour</a></li><li><a href="#doc-3-featured">Features</a></li></ul>
        </div>
      </section>

      <section id="doc-7-rules" class="section doc-section">
        <div class="doc-panel">
          <h1>Rules</h1><p>Rules is the gameplay behaviour authoring feature.</p><img src="./assets/img/feature-rules.png" alt="Rules feature overview" style="width: 100%; max-width: 800px; height: auto;"><p>This page explains every main area of the Rules feature, what each control does, and how to build reliable setups.</p><h2>What This Feature Does</h2><p>Rules define what should happen when specific events occur.</p><p>At a high level:</p><ul><li>Triggers decide when a rule is considered.</li><li>Conditions decide whether a matching trigger is allowed to continue.</li><li>Actions define what happens when triggers and conditions pass.</li></ul><h2>Top Bar Controls</h2><p>At the top-right of the Rules page:</p><ul><li><code>Add Rule</code>: creates a new rule and opens it in the editor.</li><li><code>Sync Rules</code>: compiles and transfers rules to the ESP.</li><li><code>Save</code>: writes your current rule configuration to disk.</li></ul><p>Behaviour notes:</p><ul><li><code>Save</code> is enabled only when there are unsaved changes.</li><li>If you click <code>Sync Rules</code> with unsaved changes, you are prompted to save first.</li><li>If you leave the page with unsaved changes, the browser warns before unload.</li></ul><h2>Filters</h2><p>Under the header:</p><ul><li><code>All Tags</code> dropdown: filter rules by a specific tag.</li><li><code>Search name or notes…</code>: keyword filter over rule name/notes.</li><li><code>Clear filters</code>: shown only when a filter is active.</li></ul><h2>Sync Warning and Sync Modal</h2><h3>Out-of-sync warning</h3><p>A warning banner appears when the ESP is connected but the deployed rules do not match local configuration.</p><h3>Sync modal flow</h3><p>When sync starts, a modal shows live status such as:</p><ul><li>preparing/compiling</li><li>uploading</li><li>success</li><li>timeout or error states</li></ul><p>Common status failures shown in the UI:</p><ul><li>bridge offline</li><li>bridge unresponsive</li><li>missing local rules to sync</li></ul><img src="./assets/img/feature-rules-sync-uploading.png" alt="Rules sync modal uploading state" style="width: 100%; max-width: 800px; height: auto;"><img src="./assets/img/feature-rules-sync-complete.png" alt="Rules sync modal completed state" style="width: 100%; max-width: 800px; height: auto;"><h2>Rules Table</h2><p>Each row in the table is one rule.</p><p>Columns:</p><ul><li>Expand/Collapse control</li><li>Enabled state dot</li><li>Name</li><li>Tags</li><li>Trigger count</li><li>Condition count</li><li>Action count</li><li>Delete button</li></ul><p>Row actions:</p><ul><li>Expand opens the full editor for that rule.</li><li>Enabled dot toggles active/inactive.</li><li>Delete removes the rule.</li></ul><h2>Rule Editor Tabs</h2><p>When a row is expanded, the rule editor appears with tabs:</p><ul><li>Metadata</li><li>Triggers</li><li>Conditions</li><li>Actions</li><li>Preview</li></ul><p>Validation badges:</p><ul><li>Red <code>!</code> badge can appear on <code>Triggers</code> and <code>Actions</code> tabs if required fields are missing.</li></ul><h2>Metadata Tab</h2><p>Metadata controls:</p><ul><li><code>Name</code> (required for a useful rule)</li><li><code>Enabled</code> checkbox (<code>Rule is active</code>)</li><li><code>Tags</code> list and <code>Add tag…</code> input</li><li><code>Notes</code> free text</li></ul><p>Tag behaviour:</p><ul><li>Tags appear as coloured chips.</li><li>Each tag chip has remove control.</li><li>New tags can be created inline.</li></ul><p>The metadata tab also shows a <code>Summary</code> block that previews the rule logic in plain text.</p><h2>Triggers Tab</h2><p>Triggers are organised as groups.</p><p>At trigger level:</p><ul><li><code>Add Trigger Group</code></li><li><code>Between trigger groups</code>: <code>ALL</code> or <code>ANY</code></li></ul><p>For each trigger group:</p><ul><li><code>Match within group</code>: <code>ALL</code> or <code>ANY</code></li><li><code>Window ms</code>: time window used to evaluate grouped trigger matches</li><li><code>Remove group</code></li><li><code>Add Trigger</code></li></ul><p>Each trigger has:</p><ul><li><code>Type</code>: <code>Hardware</code>, <code>System</code>, or <code>Custom</code></li></ul><h3>Hardware trigger options</h3><p>Fields:</p><ul><li><code>Hardware device</code></li><li><code>Hardware event</code></li></ul><p>The event list is based on selected hardware class and supports events such as:</p><ul><li>Button: <code>CLICKED</code>, <code>DOUBLE_CLICKED</code>, <code>HELD</code>, <code>PRESSED</code>, <code>RELEASED</code>, <code>REPEAT_WHILE_HELD</code></li><li>Switch/Opto: <code>CLOSED</code>, <code>OPENED</code>, <code>CHANGED</code>, <code>ACTIVE_FOR_MS</code>, <code>INACTIVE_FOR_MS</code></li><li>Tilt/Motion: <code>TILT_NUDGE</code>, <code>TILT_WARNING</code>, <code>TILT_TRIGGERED</code>, <code>LIFTED</code>, <code>DROPPED</code></li><li>NFC/RFID: <code>NFC_SCANNED</code>, <code>NFC_MATCHED</code></li></ul><p>Some hardware events expose extra numeric parameters, for example:</p><ul><li><code>windowMs</code></li><li><code>minMs</code></li><li><code>repeatMs</code></li></ul><p>A help button opens the <code>Hardware Event Key</code> modal with event purpose guidance.</p><h3>System trigger options</h3><p>Fields:</p><ul><li><code>Category</code></li><li><code>Event</code></li></ul><p>Categories include:</p><ul><li>Game</li><li>Credits</li><li>Modes</li><li>System</li><li>Bridge / Connectivity</li><li>Faults / Safety</li></ul><h3>Custom trigger options</h3><p>Fields:</p><ul><li><code>Event name</code></li></ul><p>Custom event names are normalised to uppercase underscore format (for example <code>START_GAME_REQUESTED</code>).</p><h2>Conditions Tab</h2><p>Conditions are optional checks that must pass before actions run.</p><p>At condition level:</p><ul><li><code>Add Condition Group</code></li><li><code>Between condition groups</code>: <code>ALL</code> or <code>ANY</code></li></ul><p>For each condition group:</p><ul><li><code>Match within group</code>: <code>ALL</code> or <code>ANY</code></li><li><code>Remove group</code></li><li><code>Add Condition</code></li></ul><p>Each condition starts with:</p><ul><li><code>Condition Type</code></li></ul><p>Supported condition types:</p><ul><li><code>Flag</code></li><li><code>Counter</code></li><li><code>Time Since Event</code></li><li><code>Device State</code></li></ul><h3>Flag condition options</h3><ul><li><code>Flag</code> (preset list or <code>Custom…</code>)</li><li><code>Operator</code> (currently equality)</li><li><code>Value</code> (<code>True</code>/<code>False</code>)</li></ul><p>If <code>Custom…</code> is selected, custom key input is shown.</p><h3>Counter condition options</h3><ul><li><code>Counter</code> (preset list, discovered counters, or <code>Custom…</code>)</li><li><code>Operator</code> (<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>)</li><li><code>Value</code> (number)</li></ul><p>Custom counter validation:</p><ul><li>must be uppercase letters, numbers, underscore</li><li>max length 32</li></ul><p>Known counters are shown as a hint below the selector.</p><h3>Time Since Event condition options</h3><ul><li><code>Event Type</code>: <code>System</code>, <code>Hardware</code>, or <code>Custom</code></li><li>event selector/input based on event type</li><li>comparison operator (<code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>)</li><li>time value in <code>ms</code></li></ul><h3>Device State condition options</h3><ul><li><code>Device</code></li><li><code>State</code></li></ul><p>Available state options depend on hardware type (for example coil active/inactive, switch open/closed, output high/low).</p><h2>Actions Tab</h2><p>Actions define what the rule does when triggers and conditions pass.</p><p>Controls:</p><ul><li><code>Add Action</code></li><li>per-action <code>Action</code> type selector</li><li>per-action <code>Remove</code></li></ul><p>Supported actions and options:</p><h3>Emit Event</h3><ul><li><code>Event Type</code>: <code>System</code> or <code>Custom</code></li><li>If <code>System</code>: <code>Category</code> and <code>Event</code></li><li>If <code>Custom</code>: free-text event input</li></ul><h3>Set Flag</h3><ul><li><code>Flag</code> (preset or custom)</li><li><code>Value</code> (<code>True</code> or <code>False</code>)</li></ul><h3>Set Counter</h3><ul><li><code>Counter</code> (preset, discovered, or custom)</li><li><code>Value</code></li></ul><h3>Increment Counter</h3><ul><li><code>Counter</code> (preset, discovered, or custom)</li><li><code>Delta</code></li></ul><h3>Pulse</h3><ul><li><code>Output / Coil</code></li><li><code>Duration (ms)</code></li></ul><h3>Set Output</h3><ul><li><code>Output / Coil</code></li><li><code>Value</code>: <code>HIGH</code>, <code>LOW</code>, or <code>PULSE</code></li><li>If <code>PULSE</code>: <code>Duration (ms)</code></li></ul><h3>Apply Lighting Scene</h3><ul><li><code>Scene</code></li><li><code>Start mode</code>: <code>Play immediately</code> or <code>Load paused</code></li><li><code>Start at</code>: <code>Scene start</code>, <code>Frame</code>, or <code>Tag</code></li><li>If <code>Frame</code>: <code>Frame</code> number (bounded by scene frame count)</li><li>If <code>Tag</code>: <code>Tag</code> selector based on scene tags</li></ul><h3>Stop Lighting Scene</h3><ul><li><code>Scene</code></li></ul><p>Planned actions (not general day-to-day options):</p><ul><li><code>LED Pattern</code></li><li><code>Delay</code></li></ul><p>These are treated as planned and are normally hidden unless already present in loaded data.</p><h2>Preview Tab</h2><p>The preview tab shows the full selected rule as formatted JSON.</p><p>Use this for:</p><ul><li>checking exact stored structure</li><li>confirming grouped trigger/condition layout</li><li>verifying action payload fields before save/sync</li></ul><h2>Validation Rules You Should Know</h2><p>The editor flags missing essentials before save/sync.</p><p>Common trigger validation errors:</p><ul><li>no trigger groups</li><li>empty group items</li><li>missing hardware device/event</li><li>missing system event</li><li>missing custom event name</li></ul><p>Common action validation errors:</p><ul><li>missing action type</li><li>missing action target (event/flag/counter/device/scene)</li><li>invalid counter name format</li><li>missing counter value/delta where required</li><li>invalid lighting start frame/tag values</li></ul><h2>Practical Setup Examples</h2><h3>Example 1: Start game on button click</h3><p>Goal: clicking Start should emit a custom start request event.</p><p>Suggested setup:</p><ul><li>Trigger: Hardware -&gt; Start button -&gt; <code>CLICKED</code></li><li>Conditions: none</li><li>Action: <code>Emit Event</code> -&gt; <code>Custom</code> -&gt; <code>START_GAME_REQUESTED</code></li></ul><h3>Example 2: Award bonus only if game is active</h3><p>Goal: a lane switch hit increases bonus only during active ball play.</p><p>Suggested setup:</p><ul><li>Trigger: Hardware -&gt; Lane switch -&gt; <code>CLOSED</code></li><li>Conditions:</li><li>Flag <code>GAME_ACTIVE == True</code></li><li>Flag <code>BALL_IN_PLAY == True</code></li><li>Action: <code>Increment Counter</code> -&gt; <code>BONUS</code> delta <code>1</code></li></ul><h3>Example 3: Hold-to-repeat action with safety gate</h3><p>Goal: repeatedly fire an action while button is held, but only if enabled.</p><p>Suggested setup:</p><ul><li>Trigger: Hardware -&gt; Action button -&gt; <code>REPEAT_WHILE_HELD</code> with <code>repeatMs</code></li><li>Condition: Flag <code>ENABLED == True</code></li><li>Action: <code>Pulse</code> selected output with controlled duration</li></ul><h3>Example 4: Lighting scene at a tagged moment</h3><p>Goal: start a scene from a named point and keep it paused until another rule continues it.</p><p>Suggested setup:</p><ul><li>Trigger: System -&gt; Modes -&gt; <code>MODE_STARTED</code></li><li>Action: <code>Apply Lighting Scene</code></li><li>Scene: <code>mode_intro</code></li><li>Start mode: <code>Load paused</code></li><li>Start at: <code>Tag</code></li><li>Tag: <code>intro_start</code></li></ul><h3>Example 5: Fault response rule</h3><p>Goal: when fault is raised, immediately force warning output state.</p><p>Suggested setup:</p><ul><li>Trigger: System -&gt; Faults / Safety -&gt; <code>FAULT_RAISED</code></li><li>Conditions: none</li><li>Action: <code>Set Output</code> -&gt; warning output -&gt; <code>HIGH</code></li></ul><h2>Authoring Tips</h2><ul><li>Keep rule names explicit and short.</li><li>Use tags for mode grouping and quick filtering.</li><li>Prefer system events for lifecycle transitions and hardware events for player input.</li><li>Use condition groups to keep complex logic readable.</li><li>Validate in Preview before syncing to hardware.</li></ul><h2>Related Features</h2><ul><li><a href="#doc-8-lighting">Lighting</a></li><li><a href="#doc-9-layout">Playfield</a></li><li><a href="#doc-10-hardware">Hardware</a></li></ul>
        </div>
      </section>

      <section id="doc-7-1-scoring" class="section doc-section">
        <div class="doc-panel">
          <h1>Scoring</h1><p>Scoring is the feature for designing how points are awarded during gameplay.</p><p>It supports fixed points, progressive hit ramps, and combo-based awards.</p><h2>Page Structure</h2><p>Scoring is split into three tabs:</p><ol><li><code>Base Points</code></li><li><code>Scoring Rules</code></li><li><code>Combos</code></li></ol><h2>Base Points Tab</h2><img src="./assets/img/feature-scoring.png" alt="Scoring base points tab" style="width: 100%; max-width: 800px; height: auto;"><p>Use this tab for straightforward score awards.</p><p>Each row configures:</p><ul><li>Source mode (<code>Hardware</code> or <code>Event</code>)</li><li>Trigger (hardware event type or event name)</li><li>Point value</li><li>Optional notes</li></ul><p>Typical uses:</p><ul><li>baseline points for common switch hits</li><li>points for named gameplay events</li><li>initial score model before advanced rules</li></ul><h2>Scoring Rules Tab</h2><img src="./assets/img/feature-scoring-scoring-rules.png" alt="Scoring rules tab" style="width: 100%; max-width: 800px; height: auto;"><p>Use this tab for progressive scoring logic.</p><p>Rules are collapsible cards that support:</p><ul><li>source and trigger setup</li><li>minimum hits</li><li>optional hit window (<code>min hits within ms</code>)</li><li>base points and points-per-hit scaling</li><li>bonus cap and cooloff behavior</li><li>optional emitted event</li></ul><p>Example ramp model:</p><ul><li><code>minHits = 1</code></li><li><code>basePoints = 20</code></li><li><code>pointsPerHit = 10</code></li><li><code>cooloffMs = 1500</code></li><li><code>cooloffStep = 1</code></li></ul><p>This rewards fast repeat hits while decaying value when play slows.</p><h2>Combos Tab</h2><img src="./assets/img/feature-scoring-combos.png" alt="Scoring combos tab" style="width: 100%; max-width: 800px; height: auto;"><p>Use this tab for multi-step scoring sequences.</p><p>Each combo supports:</p><ul><li>ordered or any-order matching</li><li>step time window</li><li>award points</li><li>optional temporary multiplier</li><li>optional emitted event</li></ul><p>Each step can use:</p><ul><li><code>Hardware</code>: button source + button event trigger</li><li><code>Event</code>: fired event name trigger</li></ul><p>Example ordered combo:</p><ul><li>step 1: left lane event</li><li>step 2: right lane event</li><li>step 3: top target event</li><li>award: 300 points</li><li>multiplier: x1.5 for 8 seconds</li></ul><h2>Save and Runtime Behavior</h2><ul><li>Changes stay staged until you click <code>Save Changes</code>.</li><li>Saved scoring config is persisted in instance data.</li><li>Runtime scoring listens to matching inputs and awards points in real time.</li></ul><h2>Integration Notes</h2><p>Scoring integrates with the event system.</p><p>This allows scoring to:</p><ul><li>react to events fired by other modules</li><li>emit events for Rules and Lighting</li><li>participate in mode-level gameplay flows</li></ul><h2>Practical Workflow</h2><ol><li>Add baseline rows in <code>Base Points</code>.</li><li>Add scaling rules in <code>Scoring Rules</code>.</li><li>Add sequence rewards in <code>Combos</code>.</li><li>Save and test in gameplay or emulation.</li><li>Tune values based on game feel.</li></ol><h2>Related Pages</h2><ul><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-8-lighting">Lighting</a></li><li><a href="#doc-9-layout">Playfield</a></li></ul>
        </div>
      </section>

      <section id="doc-8-lighting" class="section doc-section">
        <div class="doc-panel">
          <h1>Lighting</h1><p>Lighting is the scene authoring workflow for playfield effects and event-driven feedback.</p><p>It lets you build scenes, preview compiler output, and sync lighting data to ESP.</p><h2>Page Structure</h2><p>Lighting is split into two tabs:</p><ol><li><code>Stage</code></li><li><code>Fixtures</code></li></ol><h2>Stage Tab</h2><img src="./assets/img/feature-lighting-stage.png" alt="Lighting stage tab" style="width: 100%; max-width: 800px; height: auto;"><p>Stage is where scene playback and scene-level authoring happen.</p><p>Main areas:</p><ul><li>scene preview/stage area</li><li>scene selector and <code>Add Scene</code></li><li>options/editor card for selected scene</li><li>save and sync actions in the header</li></ul><p>Scene options include:</p><ul><li>title</li><li>duration (<code>seconds</code>, <code>minutes</code>, <code>frames</code>)</li><li>end behavior (<code>stop</code>, <code>repeat</code>, <code>bounce</code>)</li><li>pattern selection</li><li>priority and blend mode</li><li>cast scope/mask</li></ul><p>When pattern is <code>Custom Timeline</code>, timeline editing is available:</p><ul><li>frame scrubber and frame stepping</li><li>marker/tag pins</li><li>clear frame action</li><li>per-frame visual editing</li></ul><p>Playback behavior:</p><ul><li><code>Play</code> / <code>Stop</code> controls</li><li>preview follows compiled output path</li><li>updates reflect scene/pattern changes after compile</li></ul><h2>Fixtures Tab</h2><img src="./assets/img/feature-lighting-fixtures.png" alt="Lighting fixtures tab" style="width: 100%; max-width: 800px; height: auto;"><p>Fixtures is focused on fixture inventory, targeting, and per-fixture context.</p><p>Use it to:</p><ul><li>review available fixtures</li><li>inspect fixture layout/type metadata</li><li>control cast targeting and selection scope</li><li>validate which fixtures a scene will affect</li></ul><p>This tab is useful when tuning cast masks or checking fixture coverage before sync.</p><h2>Top Actions</h2><ul><li><code>Add Scene</code>: create a new scene</li><li><code>Play</code> / <code>Stop</code>: preview selected scene</li><li><code>Sync Lighting</code>: compile and queue lighting sync to ESP</li><li><code>Save Changes</code>: persist local lighting config</li></ul><p>If local and ESP revisions differ, an out-of-sync warning is shown.</p><h2>Timeline Tags</h2><p>Frame tags are managed from the tag modal.</p><p>Rules:</p><ul><li>lowercase letters/numbers with <code>_</code> or <code>-</code></li><li>max length <code>64</code></li><li>unique per scene</li></ul><p>Tags are available in Rules <code>Apply Lighting Scene</code> actions (<code>Start at: Tag</code>).</p><h2>Save and Sync Workflow</h2><ol><li>Build or edit scene in <code>Stage</code>.</li><li>Validate cast/fixture targeting in <code>Fixtures</code>.</li><li>Click <code>Save Changes</code>.</li><li>Click <code>Sync Lighting</code>.</li></ol><h2>Related Features</h2><ul><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-9-layout">Playfield</a></li><li><a href="#doc-10-hardware">Hardware</a></li></ul>
        </div>
      </section>

      <section id="doc-9-layout" class="section doc-section">
        <div class="doc-panel">
          <h1>Playfield</h1><p>Playfield is the visual editor and runtime simulator for machine layout.</p><p>It provides a visual machine model for authoring, key binding, and event-response testing.</p><h2>Page Structure</h2><p>Playfield is split into two tabs:</p><ol><li><code>Stage</code></li><li><code>Options</code></li></ol><h2>Stage Tab</h2><img src="./assets/img/feature-layout-stage.png" alt="Playfield stage tab" style="width: 100%; max-width: 800px; height: auto;"><p>Stage contains the visual canvas and component editing workflow.</p><p>Main areas:</p><ul><li>playfield canvas</li><li>components card</li><li>component inspector (when a component is selected)</li><li>save action in the page header</li></ul><p>Component inspector supports:</p><ul><li>appearance and size controls</li><li>bound key capture/removal</li><li>key-down/key-up gesture mapping</li><li>trigger/action test controls</li><li>remove component action</li></ul><p>Drag and placement behavior:</p><ul><li>components move by drag on canvas</li><li>selected component is highlighted</li><li>updates persist after <code>Save Changes</code></li></ul><h2>Options Tab</h2><img src="./assets/img/feature-layout-options.png" alt="Playfield options tab" style="width: 100%; max-width: 800px; height: auto;"><p>Options contains layout-level controls.</p><p>Primary controls:</p><ul><li>width</li><li>height</li><li>ratio display</li></ul><p>Layout actions:</p><ul><li><code>Auto Layout</code></li><li><code>Clear Layout</code></li></ul><p>Use this tab to quickly regenerate/reset placement without editing each component manually.</p><h2>Keyboard Binding System</h2><p>Binding flow:</p><ol><li>Select a component in <code>Stage</code>.</li><li>Click <code>Capture</code> in inspector.</li><li>Press a key.</li><li>Configure key-down and key-up gestures.</li></ol><p>This allows interaction testing without physical hardware input.</p><h2>Event and Trigger Testing</h2><p>Playfield can fire bound events and show response state visually.</p><p>Common uses:</p><ul><li>validate rule-trigger mappings</li><li>test event-driven reactions</li><li>verify component linkage behavior</li></ul><h2>Save Workflow</h2><p>Recommended flow:</p><ol><li>Arrange components in <code>Stage</code>.</li><li>Tune layout-level values in <code>Options</code>.</li><li>Test key bindings and events.</li><li>Click <code>Save Changes</code>.</li></ol><h2>Related Features</h2><ul><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-8-lighting">Lighting</a></li><li><a href="#doc-10-hardware">Hardware</a></li></ul>
        </div>
      </section>

      <section id="doc-10-hardware" class="section doc-section">
        <div class="doc-panel">
          <h1>Hardware</h1><p>Hardware is the feature for physical I/O mapping and controller integration setup.</p><p>It manages pin-level mapping, safety defaults, friendly names, and function assignment.</p><img src="./assets/img/feature-hardware.png" alt="Hardware feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>Hardware defines machine I/O in a structured form used by:</p><ul><li>Rules trigger/action targeting</li><li>Lighting cast and fixture context</li><li>ESP deployment and runtime mapping</li></ul><h2>Top Controls</h2><ul><li><code>Reload Pins</code></li><li><code>Sync to ESP</code></li><li><code>Save Mapping</code></li></ul><p>Behaviour:</p><ul><li>unsaved changes show an <code>Unsaved changes</code> badge</li><li>save/sync flows include validation and progress states</li><li>sync may request save first when local edits are pending</li></ul><h2>Mapping Table Columns</h2><ul><li>UID</li><li>Board</li><li>Type</li><li>Notes</li><li>Channel</li><li>PIN State</li><li>PIN Safe</li><li>Friendly Name</li><li>Function</li></ul><p><code>Table Key</code> modal explains each column in plain language.</p><h2>Editing Fields</h2><h3>Friendly Name</h3><p>Editable for mappable pins. Used across UI labels and selectors.</p><h3>Function</h3><p>Select logical function used by runtime and authoring features.</p><h3>PIN Safe</h3><p>For eligible general GPIO pins, choose safe state:</p><ul><li>default</li><li>HIGH</li><li>LOW</li></ul><p>Applied for safe inactive/fault conditions.</p><h2>Show All Pins Toggle</h2><p><code>Show all Pins</code> displays normally-hidden reserved/limited pins.</p><p>Default view filters to safer, mappable pin rows.</p><h2>Save Mapping</h2><p><code>Save Mapping</code> writes local mapping configuration.</p><p>On success:</p><ul><li>dirty state clears</li><li>success toast/message is shown</li></ul><h2>Sync to ESP</h2><p>Sync flow includes modal status updates.</p><p>Typical states:</p><ul><li>starting sync</li><li>uploading blob</li><li>sync complete</li><li>bridge offline/unresponsive</li><li>timeout/error</li></ul><p>An out-of-sync warning banner appears when ESP mapping differs from local mapping.</p><h2>Reload Pins</h2><p><code>Reload Pins</code> refreshes discovered pin set from ESP source.</p><p>Use when:</p><ul><li>firmware pin definitions changed</li><li>hardware board changed</li><li>UID/channel set needs refresh</li></ul><h2>Practical Setup Examples</h2><h3>Initial machine mapping</h3><ol><li>Reload Pins.</li><li>Name each relevant pin.</li><li>Assign function roles.</li><li>Save Mapping.</li><li>Sync to ESP.</li></ol><h3>Safety-first output setup</h3><p>For output-capable pins:</p><ul><li>set clear Friendly Name</li><li>assign correct output function</li><li>define PIN Safe state for boot/fault behaviour</li></ul><h2>Related Features</h2><ul><li><a href="#doc-11-esplink">ESPLink</a></li><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-8-lighting">Lighting</a></li></ul>
        </div>
      </section>

      <section id="doc-11-esplink" class="section doc-section">
        <div class="doc-panel">
          <h1>ESPLink</h1><p>ESPLink manages Pi-to-ESP connectivity, bridge control, firmware apply flow, and runtime utility actions.</p><img src="./assets/img/feature-esplink.png" alt="ESPLink feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>ESPLink provides the operational control layer between authored configuration and live ESP runtime.</p><p>Key responsibilities:</p><ul><li>device selection</li><li>bridge lifecycle control</li><li>status/identity visibility</li><li>utility actions (FS, echo, reboot)</li><li>applying downloaded firmware to connected ESP</li></ul><h2>Header Controls</h2><ul><li>device dropdown (<code>Select device…</code>)</li><li>connection status dot/text</li><li>firmware readout</li><li><code>Refresh</code></li><li><code>Reboot</code></li><li><code>Sync Time</code></li></ul><p>Button availability depends on selected/connected device state.</p><h2>No-Device State</h2><p>When no ESP devices are available, a dedicated card explains that USB connection is required.</p><h2>Overview Card</h2><p>Displays:</p><ul><li>Port</li><li>Chip</li><li>IP</li><li>RSSI</li></ul><p>Bridge section displays:</p><ul><li>Bridge Status</li><li>Bridge Port</li><li>Bridge Firmware</li><li>Bridge Chip</li></ul><p>Bridge actions:</p><ul><li><code>Start</code></li><li><code>Stop</code></li><li><code>Restart</code></li></ul><h2>Actions Card</h2><p>Operational tools:</p><ul><li><code>FS Status</code></li><li><code>List Files</code></li><li><code>Reboot ESP</code></li><li><code>Echo Test</code></li></ul><p>Each action opens a result modal.</p><p>Available result modals:</p><ul><li>FS Status modal</li><li>File List modal</li><li>Echo Test modal</li><li>Reboot ESP modal</li></ul><h2>Firmware Card (Local Apply)</h2><p>Purpose: apply locally downloaded firmware to connected ESP.</p><p>List behaviour:</p><ul><li>shows locally available versions</li><li>displays <code>Latest</code> and <code>Current</code> badges where relevant</li><li>apply action per version</li><li>upload console with progress/log output</li></ul><h2>Compatibility and Confidence Checks</h2><p>ESPLink helps ensure safe rollout by exposing:</p><ul><li>bridge running state</li><li>device presence</li><li>live firmware/chip info</li><li>clear checks that Pi and ESP are on matching versions and manifest data before deployment</li></ul><h2>Typical Workflow</h2><ol><li>Select target ESP device.</li><li>Confirm status dot and overview data.</li><li>Start/restart bridge if needed.</li><li>Use Sync Time and utility checks.</li><li>Apply firmware if required.</li><li>Continue with hardware/rules/lighting sync actions.</li></ol><h2>Practical Examples</h2><h3>Recovery after USB reconnect</h3><ul><li>press Refresh</li><li>if bridge stopped, Start bridge</li><li>verify chip/firmware visible again</li></ul><h3>Pre-sync validation</h3><ul><li>ensure connected status is green</li><li>run Echo Test quickly</li><li>check FS/list outputs if needed</li></ul><h2>Related Features</h2><ul><li><a href="#doc-10-hardware">Hardware</a></li><li><a href="#doc-12-firmware">Firmware</a></li><li><a href="#doc-14-logs">Logs</a></li></ul>
        </div>
      </section>

      <section id="doc-12-firmware" class="section doc-section">
        <div class="doc-panel">
          <h1>Firmware</h1><p>Firmware manages available firmware version lists and local version lifecycle.</p><img src="./assets/img/feature-firmware.png" alt="Firmware feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>It provides a controlled view of firmware versions and allows you to download/remove local versions for deployment.</p><h2>Source Controls</h2><p>At the top of the card:</p><ul><li>Source selector:</li><li><code>Default</code></li><li><code>Custom URL</code></li><li>Remote URL input (shown in custom mode)</li><li><code>Load</code> for remote manifest fetch</li></ul><p>Status line shows:</p><ul><li>latest version badge</li><li>source label</li><li>version count summary</li></ul><h2>Versions Table</h2><p>Columns:</p><ul><li>Version</li><li>Date</li><li>Notes</li><li>Size</li><li>Status</li><li>Action</li></ul><p>Status badges include:</p><ul><li>Downloaded (local)</li><li>Remote</li></ul><p>Row actions:</p><ul><li><code>Download</code> for remote-only versions</li><li><code>Remove</code> for local versions</li></ul><h2>Footer Action</h2><ul><li><code>Remove All Local Versions</code></li></ul><p>Use this to clear local cache when resetting firmware set.</p><h2>Data Behaviour</h2><p>Firmware view merges local and selected-remote manifests.</p><p>Ordering:</p><ul><li>newest first by date/version sort</li></ul><p>Formatting:</p><ul><li>dates shown in readable UK format</li><li>sizes shown as B/KB/MB</li></ul><h2>Official Release Usage</h2><p>Updates from official Pinball CTL releases are available and listed here.</p><p>Typical workflow:</p><ol><li>load default source</li><li>review available versions/notes</li><li>download required local version</li><li>apply from ESPLink</li></ol><h2>Practical Examples</h2><h3>Use official default feed</h3><ul><li>keep Source = Default</li><li>review latest badge</li><li>download selected stable version</li></ul><h3>Temporary custom release source</h3><ul><li>switch Source = Custom URL</li><li>enter manifest URL</li><li>Load and review</li><li>download targeted version</li></ul><h2>Related Features</h2><ul><li><a href="#doc-11-esplink">ESPLink</a></li><li><a href="#doc-10-hardware">Hardware</a></li><li><a href="#doc-13-service-log">Service Log</a></li></ul>
        </div>
      </section>

      <section id="doc-13-service-log" class="section doc-section">
        <div class="doc-panel">
          <h1>Service Log</h1><p>Service Log is the feature for machine service and maintenance records.</p><p>It is focused on physical maintenance history rather than runtime diagnostics.</p><img src="./assets/img/feature-servicelog.png" alt="Service Log feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>It records maintenance and repair actions so users and engineers can track what was serviced, when, and why.</p><h2>Top Controls</h2><ul><li><code>New Entry</code></li></ul><p>Creates a new maintenance/service record.</p><h2>Filter Controls</h2><ul><li>Service type filter</li><li>Date <code>From</code></li><li>Date <code>To</code></li><li><code>Apply</code></li><li><code>Clear</code></li></ul><p>Service types:</p><ul><li>Service</li><li>Repair</li><li>Recall</li><li>Warranty</li></ul><h2>Main Layout</h2><p>Two-pane layout:</p><ul><li>left: Entries list + count badge</li><li>right: Entry details panel</li></ul><p>Details panel shows:</p><ul><li>title/meta/type</li><li>work summary</li><li>parts replaced</li><li>outcome</li><li>follow-up notes</li><li>attachments</li></ul><p><code>Edit</code> button appears when an entry is selected.</p><h2>New/Edit Entry Modal</h2><p>Fields:</p><ul><li>Engineer (required)</li><li>Service type (required)</li><li>Title (required)</li><li>Work description (required)</li><li>Parts replaced</li><li>Outcome / result</li><li>Follow-up notes</li><li>Attachments (up to 5 files)</li></ul><p>Attachment note in UI:</p><ul><li>PNG, JPG, PDF, DOCX</li></ul><p>Modal actions:</p><ul><li>Cancel</li><li>Save Entry</li></ul><h2>Typical Workflow</h2><ol><li>Create entry after physical work is complete.</li><li>Capture parts/outcome details.</li><li>Add supporting attachments.</li><li>Save and verify details in right panel.</li></ol><h2>Practical Examples</h2><h3>Weekly cleaning log</h3><p>Record:</p><ul><li>engineer/operator</li><li>service type = Service</li><li>checklist summary</li><li>follow-up for next clean interval</li></ul><h3>Coil replacement record</h3><p>Record:</p><ul><li>type = Repair</li><li>replaced part ID</li><li>result after test</li><li>attach invoice/photo</li></ul><h2>Related Features</h2><ul><li><a href="#doc-5-dashboard">Dashboard</a></li><li><a href="#doc-14-logs">Logs</a></li><li><a href="#doc-16-settings">Settings</a></li></ul>
        </div>
      </section>

      <section id="doc-14-logs" class="section doc-section">
        <div class="doc-panel">
          <h1>Logs</h1><p>Logs is the feature for viewing runtime output from web, bridge, ESP, and event streams.</p><img src="./assets/img/feature-logs.png" alt="Logs feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>It provides live and historical log access in-browser for operational checks and troubleshooting.</p><h2>Control Bar Reference</h2><h3>Source</h3><p>Available sources:</p><ul><li>Web Error</li><li>Web Access</li><li>Bridge</li><li>ESP Raw</li><li>Events</li></ul><p>Source preference is remembered in local storage.</p><h3>Lines</h3><ul><li>numeric line count for current-window view</li><li>min/step controlled input</li></ul><h3>Filter</h3><ul><li>keyword filter applied client-side to visible buffer</li></ul><h3>Log File</h3><ul><li><code>Current</code> and archive entries (when available)</li></ul><p>Archive mode hides controls that are not applicable to archived logs.</p><h3>Action buttons</h3><ul><li><code>Refresh</code></li><li><code>Clear</code></li><li><code>Purge</code></li><li><code>Tailing</code> toggle</li></ul><p><code>Purge</code> permanently clears the current log file (with confirmation).</p><h2>Viewport Behaviour</h2><ul><li>renders log lines as interactive rows</li><li>auto-tail updates while enabled</li><li>supports large buffer management</li></ul><p>Rows with parseable JSON show JSON-specific affordance.</p><h2>JSON Inspector</h2><p>Click <code>JSON</code> or row to open inspector modal.</p><p>Modal includes:</p><ul><li>structured syntax-highlighted JSON view</li><li>fallback raw line view if not JSON</li><li>close actions and <code>Esc</code> support</li></ul><h2>Tailing and Selection Behaviour</h2><p>When text selection is active in viewport:</p><ul><li>render updates are deferred to avoid disrupting text copy/select</li></ul><p>Tail can be toggled off for static analysis.</p><h2>Typical Workflow</h2><ol><li>Select source.</li><li>Set line window.</li><li>Apply keyword filter.</li><li>Inspect JSON rows when needed.</li><li>Use purge only for deliberate log reset.</li></ol><h2>Practical Examples</h2><h3>Bridge troubleshooting</h3><ul><li>source = Bridge</li><li>tailing on</li><li>filter for <code>error</code>, <code>timeout</code>, or device ID</li></ul><h3>Event audit</h3><ul><li>source = Events</li><li>inspect JSON payloads for event names/fields</li></ul><h2>Related Features</h2><ul><li><a href="#doc-5-dashboard">Dashboard</a></li><li><a href="#doc-11-esplink">ESPLink</a></li><li><a href="#doc-13-service-log">Service Log</a></li></ul>
        </div>
      </section>

      <section id="doc-15-wifi" class="section doc-section">
        <div class="doc-panel">
          <h1>Wi-Fi</h1><p>Wi-Fi is the feature for viewing and updating network connection settings.</p><img src="./assets/img/feature-wifi.png" alt="Wi-Fi feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>What This Feature Does</h2><p>It shows live network state and lets you update SSID/password from the web interface.</p><h2>Current Status Card</h2><p>Displays:</p><ul><li>SSID</li><li>IP</li><li>State</li><li>Connected badge (<code>Yes</code>/<code>No</code>)</li></ul><p>Status refreshes regularly (about every 5 seconds).</p><h2>Update Settings Form</h2><p>Fields:</p><ul><li>SSID (required)</li><li>Password</li></ul><p>Actions:</p><ul><li><code>Save</code></li></ul><p>UI feedback:</p><ul><li>saving spinner</li><li>success message</li><li>error alert if save fails</li></ul><h2>Save Behaviour</h2><p>Saves are submitted to Wi-Fi API and status refresh is triggered after successful update.</p><p>Use this for first setup changes or network migration.</p><h2>Planned Capability</h2><p>Planned: Wi-Fi connected services will provide support for global leaderboards.</p><h2>Practical Examples</h2><h3>Move machine to new venue network</h3><ol><li>Enter new SSID/password.</li><li>Save.</li><li>Confirm new IP and connected badge.</li></ol><h3>Verify remote support readiness</h3><p>Confirm connected badge and IP before remote browser/API operations.</p><h2>Related Features</h2><ul><li><a href="#doc-5-dashboard">Dashboard</a></li><li><a href="#doc-16-settings">Settings</a></li></ul>
        </div>
      </section>

      <section id="doc-16-settings" class="section doc-section">
        <div class="doc-panel">
          <h1>Settings</h1><p>Settings is the feature for installation-wide configuration and project data transfer.</p><img src="./assets/img/feature-settings.png" alt="Settings feature overview" style="width: 100%; max-width: 800px; height: auto;"><h2>Page Structure</h2><p>Settings has two tabs:</p><ol><li><code>Settings</code></li><li><code>Import/Export</code></li></ol><h2>Settings Tab</h2><img src="./assets/img/feature-settings-settings.png" alt="Settings tab overview" style="width: 100%; max-width: 800px; height: auto;"><p>Use this tab to manage persistent system values.</p><p>Main fields:</p><ul><li>project name</li><li>admin username</li><li>admin password</li><li>remote firmware URL</li><li>log level (<code>INFO</code>, <code>DEBUG</code>, <code>VERBOSE</code>)</li><li>currency (<code>GBP</code>, <code>USD</code>, <code>EUR</code>, <code>JPY</code>)</li><li><code>Start displays on service startup</code></li></ul><p>Top action:</p><ul><li><code>Save Changes</code></li></ul><p>Password behavior:</p><ul><li>blank password does not overwrite existing password</li><li>non-empty password replaces admin password</li></ul><h2>Import/Export Tab</h2><img src="./assets/img/feature-settings-import-export.png" alt="Import and export tab overview" style="width: 100%; max-width: 800px; height: auto;"><p>Use this tab to move project data between installations.</p><h3>Export project</h3><ul><li>downloads a bundle of <code>src/instance</code></li><li>filename includes project name and timestamp</li><li>status text shows progress/completion</li><li>action: <code>Export</code></li></ul><h3>Import project</h3><ul><li>uploads a bundled project export (<code>.zip</code>)</li><li>existing files in <code>src/instance</code> are overwritten when present</li><li>confirmation is required before import</li><li>status text shows upload result</li><li>controls: file chooser + <code>Import</code></li></ul><h2>Typical Workflow</h2><ol><li>Update values in <code>Settings</code>.</li><li>Click <code>Save Changes</code>.</li><li>Use <code>Import/Export</code> for backup, restore, or migration.</li></ol><h2>Related Features</h2><ul><li><a href="#doc-18-media">Media</a></li><li><a href="#doc-15-wifi">Wi-Fi</a></li><li><a href="#doc-12-firmware">Firmware</a></li></ul>
        </div>
      </section>

      <section id="doc-17-audio" class="section doc-section">
        <div class="doc-panel">
          <h1>Audio</h1><p>Audio manages sound assets, output routing, and cue-based playback behavior.</p><p>It is designed so gameplay systems can trigger predictable audio without embedding sound logic in ESP firmware.</p><h2>Page Structure</h2><p>Audio is split into four tabs:</p><ol><li><code>Library</code></li><li><code>Cues</code></li><li><code>Outputs</code></li><li><code>Audio Usage Map</code></li></ol><h2>Library Tab</h2><img src="./assets/img/feature-audio-library.png" alt="Audio library tab" style="width: 100%; max-width: 800px; height: auto;"><p>Library is where audio files are uploaded and managed.</p><p>Key behavior:</p><ul><li>drag-and-drop multi-file upload</li><li>per-row inline player</li><li>friendly name editing</li><li>sort by name, added date, and duration</li><li>usage count pills per asset</li></ul><p>Notes:</p><ul><li>if no friendly name is set, UI derives one from filename</li><li>very short assets are shown with fractional-second durations</li></ul><h2>Cues Tab</h2><img src="./assets/img/feature-audio-cues.png" alt="Audio cues tab" style="width: 100%; max-width: 800px; height: auto;"><p>Cues define how assets play at runtime.</p><p>Per cue settings include:</p><ul><li>cue name</li><li>linked library asset</li><li>output target</li><li>bus (<code>SFX</code>, <code>Music</code>, <code>Voice</code>, <code>Ambient</code>)</li><li>volume (<code>0.0</code> to <code>2.0</code>)</li><li>loop toggle</li><li>repeat count</li><li>cooldown (ms)</li></ul><p>Editor behavior:</p><ul><li><code>Save Changes</code> enables only when there are real changes</li><li>unsaved exit prompts use the shared confirm flow</li><li>preview playback goes through backend routing for runtime-accurate output targeting</li></ul><h2>Outputs Tab</h2><img src="./assets/img/feature-audio-outputs.png" alt="Audio outputs tab" style="width: 100%; max-width: 800px; height: auto;"><p>Outputs shows devices and runtime playback state.</p><p>Key behavior:</p><ul><li>detected playback devices for current host</li><li>active runtime entries and orphan entries</li><li>stop actions for active/orphan playback processes</li><li>environment checks for audio backend/library readiness</li></ul><h2>Audio Usage Map Tab</h2><img src="./assets/img/feature-audio-audio-usage-map.png" alt="Audio usage map tab" style="width: 100%; max-width: 800px; height: auto;"><p>Audio Usage Map is a read-only reference of where assets are used.</p><p>Use it for:</p><ul><li>audit and cleanup</li><li>verifying reuse before adding duplicate assets</li><li>debugging event-to-cue mappings quickly</li></ul><h2>Runtime Model</h2><p>Audio subscribes to Pi-side event flow.</p><p>In practice:</p><ul><li>events can trigger cues</li><li>multiple systems can reference the same cue</li><li>behavior stays centrally configurable from Audio</li></ul><h2>Typical Workflow</h2><ol><li>Upload assets in <code>Library</code>.</li><li>Define cue behavior in <code>Cues</code>.</li><li>Validate devices and playback in <code>Outputs</code>.</li><li>Confirm usage and reuse in <code>Audio Usage Map</code>.</li></ol><h2>Related Features</h2><ul><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-7-1-scoring">Scoring</a></li><li><a href="#doc-9-layout">Playfield</a></li><li><a href="#doc-16-settings">Settings</a></li></ul>
        </div>
      </section>

      <section id="doc-18-media" class="section doc-section">
        <div class="doc-panel">
          <h1>Media</h1><p>Media is the scene authoring feature for videos and on-screen overlays.</p><p>It lets you build stage scenes, preview them in-browser, and launch kiosk windows on configured displays.</p><h2>Page Structure</h2><p>Media is split into four tabs:</p><ol><li><code>Stage</code></li><li><code>Library</code></li><li><code>Displays</code></li><li><code>Runtime</code></li></ol><h2>Stage Tab</h2><img src="./assets/img/feature-media-stage.png" alt="Media stage tab" style="width: 100%; max-width: 800px; height: auto;"><p>Stage is the authoring tab for scene composition and playback preview.</p><p>Left panel:</p><ul><li>visual preview stage</li><li>playback controls (<code>Play / Pause</code>, <code>Stop</code>, scrub bar, time readout)</li><li>launch buttons (<code>Open Fullscreen</code>, <code>Open Small Window</code>)</li></ul><p>Right panel cards:</p><ul><li><code>Scenes</code>: scene dropdown + <code>+ Add Scene</code></li><li><code>Options</code>: scene name, target display, base asset, loop, audio include toggle</li><li><code>Overlays</code>: overlay list + editor + <code>+ Add Overlay</code></li></ul><p>Overlay editing includes:</p><ul><li>reorder (up/down)</li><li>collapse/expand per overlay</li><li>position, size, rotation, opacity</li><li>text options (alignment, effects, no-wrap rendering)</li><li>image/frame/variable overlay configuration</li></ul><h2>Library Tab</h2><img src="./assets/img/feature-media-library.png" alt="Media library tab" style="width: 100%; max-width: 800px; height: auto;"><p>Library manages media assets.</p><p>Cards:</p><ul><li><code>Asset Upload</code></li><li>drag/drop upload</li><li>file picker upload</li><li>progress/status feedback</li><li><code>Asset Library</code></li><li>asset list with name, type, added date, and actions</li><li>in-app preview for selected assets</li></ul><h2>Displays Tab</h2><img src="./assets/img/feature-media-displays.png" alt="Media displays tab" style="width: 100%; max-width: 800px; height: auto;"><p>Displays is for output-target configuration and host readiness.</p><p>Cards:</p><ul><li><code>Detected Displays</code></li><li>display name, role, size, screen mapping, enabled state</li><li><code>Detect</code> action refresh</li><li><code>Runtime Checks</code></li><li>kiosk/runtime dependency checks</li><li>Chromium/runtime capability status</li></ul><h2>Runtime Tab</h2><img src="./assets/img/feature-media-runtime.png" alt="Media runtime tab" style="width: 100%; max-width: 800px; height: auto;"><p>Runtime shows active scene sessions and runtime controls.</p><p>Cards:</p><ul><li><code>Runtime</code></li><li>active scene list by display/session</li><li>per-scene stop actions</li><li><code>Controls</code></li><li>global runtime actions such as <code>Stop All</code></li></ul><h2>Typical Workflow</h2><ol><li>Build a scene in <code>Stage</code>.</li><li>Choose target display and base asset.</li><li>Add and tune overlays in preview.</li><li>Save changes.</li><li>Launch fullscreen or small window for live validation.</li><li>Verify/monitor sessions in <code>Runtime</code>.</li></ol><h2>Related Features</h2><ul><li><a href="#doc-7-rules">Rules</a></li><li><a href="#doc-8-lighting">Lighting</a></li><li><a href="#doc-16-settings">Settings</a></li></ul>
        </div>
      </section>

      <section id="doc-99-supported-components" class="section doc-section">
        <div class="doc-panel">
          <h1>Supported Components</h1><p>This page tracks hardware and platform support for Pinball CTL.</p><p>At this stage, support is naturally based on the equipment used during development and testing.</p><h2>Support Levels</h2><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Status</th>        <th>Meaning</th>      </tr>    </thead>    <tbody>      <tr><td>✅ Supported</td><td>Used and verified in this project</td></tr>      <tr><td>⚠️ Limited</td><td>Partially tested or expected to work, but not fully validated</td></tr>      <tr><td>❓ Unknown</td><td>Not tested yet</td></tr>    </tbody>  </table></div><h2>Core Platform</h2><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Component</th>        <th>Status</th>        <th>Notes</th>      </tr>    </thead>    <tbody>      <tr><td>Raspberry Pi 5</td><td>✅ Supported</td><td>Main runtime platform</td></tr>      <tr><td>Raspberry Pi OS (64-bit)</td><td>✅ Supported</td><td>Recommended for Pi 5</td></tr>      <tr><td>macOS (development host)</td><td>✅ Supported</td><td>Used for development workflow</td></tr>      <tr><td>Other Linux distributions</td><td>⚠️ Limited</td><td>Likely workable but not formally tested</td></tr>      <tr><td>Windows development host</td><td>❓ Unknown</td><td>Not validated yet</td></tr>    </tbody>  </table></div><h2>Control Hardware</h2><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Component</th>        <th>Status</th>        <th>Notes</th>      </tr>    </thead>    <tbody>      <tr><td>ESP32-S3 board used by this project</td><td>✅ Supported</td><td>Primary real-time controller</td></tr>      <tr><td>Other ESP32 variants</td><td>⚠️ Limited</td><td>May require firmware/protocol adjustments</td></tr>      <tr><td>USB serial bridge (Pi &lt;-&gt; ESP32)</td><td>✅ Supported</td><td>Required for normal operation</td></tr>    </tbody>  </table></div><h2>I/O Expansion and Devices</h2><div class="manual-table-wrap">  <table class="manual-table">    <thead>      <tr>        <th>Component</th>        <th>Status</th>        <th>Notes</th>      </tr>    </thead>    <tbody>      <tr><td>MCP23017 I2C expanders</td><td>✅ Supported</td><td>Used in current hardware stack</td></tr>      <tr><td>Basic switches/buttons</td><td>✅ Supported</td><td>Via mapped input flow</td></tr>      <tr><td>Solenoids/coils</td><td>✅ Supported</td><td>Safety controls expected on ESP side</td></tr>      <tr><td>RGB strips (configured in mapping)</td><td>✅ Supported</td><td>Supported in current lighting flow</td></tr>      <tr><td>Other lighting drivers/chipsets</td><td>⚠️ Limited</td><td>Depends on firmware support</td></tr>    </tbody>  </table></div><h2>Notes</h2><ul><li>This list will grow as more boards and devices are tested.</li><li>If your setup differs from the list above, Pinball CTL may still work, but behaviour can vary.</li></ul>
        </div>
      </section>

        </div>
      </div>
    </section>
  </main>
  <footer class="site-footer">
    <div class="site-footer__inner">
      <p class="site-footer__copy">&copy; 2026 Pinball CTL. All rights reserved.</p>
      <nav class="site-footer__nav" aria-label="Footer links">
        <a href="./privacy.html">Privacy</a>
        <a href="./terms.html">Terms</a>
        <a href="./contact.html">Contact</a>
      </nav>
    </div>
  </footer>

  <div id="img-modal" class="img-modal" aria-hidden="true" role="dialog" aria-label="Screenshot preview">
    <div class="img-modal__backdrop"></div>
    <div class="img-modal__body">
      <button class="img-modal__close" aria-label="Close preview">Close</button>
      <img src="" alt="Screenshot preview" class="img-modal__img">
    </div>
  </div>
  <div class="dev-ribbon" aria-hidden="true">In Development</div>

  <script>
    document.querySelectorAll('.docs-content img').forEach((img) => {
      img.classList.add('shot-click');
      img.setAttribute('data-full', img.getAttribute('src'));
    });
  </script>
  <script src="./main.js"></script>
</body>
</html>
